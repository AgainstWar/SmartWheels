# README

## 原始要求

一个小车控制器，我有四个**普通的电机**，直接接在车模上的，然后需要控制**90度**左右转，**原地**转好才前进或后退，然后还需要控制**十个梯度**的移动距离，具体距离不需要，只需要十个等梯度就好，然后需要一个**串口**接在一个通信口上，通信口会给应该是**7位的字符串**，对应前后，转向，还有移动距离的控制信号

## 任务分解

### 硬件配置
1. **L298N电机驱动模块**：用于控制四个电机的正反转，可以实现小车的前进、后退、左转、右转和原地旋转等动作。
2. **CC2530通信模块**：用于接收外部的控制命令，这些命令通过无线方式发送给小车。
3. **光电编码器**：每个电机配备一个光电编码器，用于测量轮子的转动情况，从而实现对小车移动距离和转向角度的精确控制。

### 软件设计
#### 初始化部分
- **GPIO配置**：配置用于控制L298N的GPIO引脚。
- **PWM配置**：如果L298N使用PWM信号控制速度，则需要配置相关的PWM输出。
- **串口配置**：设置CC2530的串口通信参数，如波特率等。
- **中断配置**：配置光电编码器的输入引脚，以及相应的中断服务程序，用于计数编码器的脉冲。

#### 主控制逻辑
- **接收命令**：通过CC2530接收来自控制中心的命令。
- **解析命令**：解析接收到的7位字符串，确定控制指令。
- **执行控制**：
  - **转向控制**：根据命令计算需要的脉冲数，通过编码器反馈控制转向精度。
  - **距离控制**：根据梯度控制电机旋转相应的脉冲数。
  - **速度控制**：通过调整PWM信号的占空比来控制电机的速度。

#### 中断服务程序
- **编码器中断**：每个编码器的脉冲都会触发一个中断，用于计数，实现精确的距离和角度控制。

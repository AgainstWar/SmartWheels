# README

## 原始要求

一个小车控制器，我有四个**普通的电机**，直接接在车模上的，然后需要控制**90度**左右转，**原地**转好才前进或后退，然后还需要控制**十个梯度**的移动距离，具体距离不需要，只需要十个等梯度就好，然后需要一个**串口**接在一个通信口上，通信口会给应该是**7位的字符串**，对应前后，转向，还有移动距离的控制信号


## 硬件配置
1. **L298N电机驱动模块**：用于控制四个电机的正反转，可以实现小车的前进、后退、左转、右转和原地旋转等动作。
2. **CC2530通信模块**：用于接收外部的控制命令，这些命令通过无线方式发送给小车。
3. **光电编码器**：每个电机配备一个光电编码器，用于测量轮子的转动情况，从而实现对小车移动距离和转向角度的精确控制。

## 引脚分配

- PWM 引脚:
  | Pin  | Function |
  | ---- | -------- |
  | PB_0 | PWM1     |
  | PB_1 | PWM2     |
  | PA_6 | PWM3     |
  | PA_7 | PWM4     |

- USART 引脚:
  | Pin   | 接线     |
  | ----- | -------- |
  | PA_9  | USART_TX |
  | PA_10 | USART_RX |
  | GND   | GND      |

- MPU6050 引脚:
  | Pin  | 接线    |
  | ---- | ------- |
  | PB_6 | I2C_SCL |
  | PB_7 | I2C_SDA |
  | 5V   | VCC     |
  | GND  | GND     |

- L298N 推荐接线:

  **逻辑输入引脚**  
  | STM32引脚 | L298N引脚 |   备注    |
  | :-------: | :-------: | :-------: |
  |   PD_0    |   INT1    | 驱动1 A相 |
  |   PD_1    |   INT2    | 驱动1 A相 |
  |   PD_2    |   INT3    | 驱动1 B相 |
  |   PD_3    |   INT4    | 驱动1 B相 |
  |   PD_4    |   INT1    | 驱动2 A相 |
  |   PD_5    |   INT2    | 驱动2 A相 |
  |   PD_6    |   INT3    | 驱动2 B相 |
  |   PD_7    |   INT4    | 驱动2 B相 |
  > 逻辑输入用于换相（改变电机转动方向）

  **使能引脚**
  | STM32引脚 | L298N引脚 |    备注    |
  | :-------: | :-------: | :--------: |
  |   PA_6    |    ENA    | 驱动1 使能 |
  |   PA_7    |    ENB    | 驱动1 使能 |
  |   PB_0    |    ENA    | 驱动2 使能 |
  |   PB_1    |    ENB    | 驱动2 使能 |
  > 使能引脚用于控制电机的启停(PWM调速)
